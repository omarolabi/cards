<form>
  <div class="form-group">
    <label for="seasonFilter">Filtrar por temporada:</label>
    <select [(ngModel)]="seasonFilterValue" class="form-control" id="seasonFilter" (change)="filterCards($event.target.value, 'season')" [ngModelOptions]="{standalone: true}">
      <option [value]="'all'">Todas</option>
      <option [value]="season.name" *ngFor="let season of seasonsList$ | async">{{ season.name }}</option>
    </select>
  </div>

  <div class="form-group">
    <label for="factionFilter">Filtrar por facción:</label>
    <select [(ngModel)]="factionFilterValue" class="form-control" id="factionFilter" (change)="filterCards($event.target.value, 'faction')" [ngModelOptions]="{standalone: true}">
      <option [value]="'all'">Todas</option>
      <option [value]="faction.name" *ngFor="let faction of factionsList$ | async">{{ faction.name }}</option>
    </select>
  </div>
</form>

<table class="table table-striped table-sm">
  <thead class="thead-light">
    <tr>
      <th>Temp.</th>
      <th>Núm.</th>
      <th>Nombre</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td colspan="3" *ngIf="isWorking">Cargando ...</td>
    </tr>
    <tr *ngFor="let card of cardsList | orderBy: 'number'">
      <td><small class="text-muted">{{ card.season }}</small></td>
      <td><small class="badge badge-secondary">{{ card.number }}</small></td>
      <td>
        <a class="" routerLink="/card/{{card.number}}">{{ card.title }}</a>
      </td>
    </tr>
    <tr class="table-secondary" *ngIf="!isWorking">
      <td colspan="3" *ngIf="cardsList.length === 0">No hay cartas corregidas que mostrar</td>
    </tr>
  </tbody>
</table>
